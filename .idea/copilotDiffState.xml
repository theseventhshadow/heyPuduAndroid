<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/heypudu/heypudu/features/audioplayer/ui/AudioPlayerScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/heypudu/heypudu/features/audioplayer/ui/AudioPlayerScreen.kt" />
              <option name="updatedContent" value="package com.heypudu.heypudu.features.audioplayer.ui&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavHostController&#10;import com.heypudu.heypudu.data.Post&#10;import com.heypudu.heypudu.data.UserRepository&#10;&#10;@Composable&#10;fun AudioPlayerScreen(&#10;    postId: String?,&#10;    navController: NavHostController&#10;) {&#10;    var post by remember { mutableStateOf&lt;Post?&gt;(null) }&#10;    var isLoading by remember { mutableStateOf(true) }&#10;    var errorMessage by remember { mutableStateOf&lt;String?&gt;(null) }&#10;&#10;    LaunchedEffect(postId) {&#10;        if (!postId.isNullOrBlank()) {&#10;            try {&#10;                val repository = UserRepository()&#10;                val loadedPost = repository.getPostById(postId)&#10;                post = loadedPost&#10;                isLoading = false&#10;            } catch (e: Exception) {&#10;                errorMessage = &quot;Error al cargar el post: ${e.message}&quot;&#10;                isLoading = false&#10;            }&#10;        } else {&#10;            errorMessage = &quot;ID de post no válido&quot;&#10;            isLoading = false&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;    ) {&#10;        when {&#10;            isLoading -&gt; {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    CircularProgressIndicator()&#10;                }&#10;            }&#10;            errorMessage != null -&gt; {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(16.dp),&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    verticalArrangement = Arrangement.Center&#10;                ) {&#10;                    Text(&#10;                        text = errorMessage ?: &quot;Error desconocido&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color.Red&#10;                    )&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;                    Button(onClick = { navController.popBackStack() }) {&#10;                        Text(&quot;Volver atrás&quot;)&#10;                    }&#10;                }&#10;            }&#10;            post != null -&gt; {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(16.dp),&#10;                    horizontalAlignment = Alignment.CenterHorizontally&#10;                ) {&#10;                    // Header con botón de atrás&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(bottom = 16.dp),&#10;                        verticalAlignment = Alignment.CenterVertically&#10;                    ) {&#10;                        IconButton(&#10;                            onClick = { navController.popBackStack() }&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                                contentDescription = &quot;Atrás&quot;&#10;                            )&#10;                        }&#10;                        Spacer(modifier = Modifier.width(8.dp))&#10;                        Text(&#10;                            text = &quot;Reproductor de Audio&quot;,&#10;                            fontSize = 20.sp,&#10;                            fontWeight = FontWeight.Bold,&#10;                            color = Color.Black&#10;                        )&#10;                    }&#10;&#10;                    // Información del post&#10;                    Card(&#10;                        shape = RoundedCornerShape(16.dp),&#10;                        colors = CardDefaults.cardColors(containerColor = Color(0xFF33E7B2)),&#10;                        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(bottom = 24.dp)&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .padding(16.dp),&#10;                            horizontalAlignment = Alignment.Start&#10;                        ) {&#10;                            // Título&#10;                            Text(&#10;                                text = post!!.title ?: &quot;Sin título&quot;,&#10;                                fontSize = 18.sp,&#10;                                fontWeight = FontWeight.Bold,&#10;                                color = Color.Black,&#10;                                overflow = TextOverflow.Ellipsis&#10;                            )&#10;&#10;                            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                            // Autor&#10;                            Text(&#10;                                text = &quot;Por: ${post!!.authorUsername ?: &quot;Autor desconocido&quot;}&quot;,&#10;                                fontSize = 14.sp,&#10;                                color = Color.Gray,&#10;                                fontWeight = FontWeight.Medium&#10;                            )&#10;&#10;                            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                            // Contenido&#10;                            Text(&#10;                                text = post!!.content ?: &quot;&quot;,&#10;                                fontSize = 12.sp,&#10;                                color = Color.DarkGray,&#10;                                overflow = TextOverflow.Ellipsis,&#10;                                maxLines = 3&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    // Reproductor (será expandido con funciones en el futuro)&#10;                    Card(&#10;                        shape = RoundedCornerShape(16.dp),&#10;                        colors = CardDefaults.cardColors(containerColor = Color(0xFFF5F5F5)),&#10;                        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                        modifier = Modifier.fillMaxWidth()&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .padding(24.dp),&#10;                            horizontalAlignment = Alignment.CenterHorizontally&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Reproductor de Audio&quot;,&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Bold,&#10;                                color = Color.Black&#10;                            )&#10;&#10;                            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                            // Placeholder para controles de reproducción&#10;                            // Será completado en futuras iteraciones&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .fillMaxWidth()&#10;                                    .height(100.dp)&#10;                                    .background(Color.White, RoundedCornerShape(12.dp)),&#10;                                contentAlignment = Alignment.Center&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Los controles de reproducción se añadirán pronto&quot;,&#10;                                    fontSize = 12.sp,&#10;                                    color = Color.Gray,&#10;                                    textAlign = androidx.compose.ui.text.style.TextAlign.Center&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;            else -&gt; {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = &quot;No se encontró la información del audio&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color.Red&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>