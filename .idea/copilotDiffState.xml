<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/heypudu/heypudu/ui/components/UploadProgressBar.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/heypudu/heypudu/ui/components/UploadProgressBar.kt" />
              <option name="originalContent" value="package com.heypudu.heypudu.ui.components&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.fadeIn&#10;import androidx.compose.animation.fadeOut&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.LinearProgressIndicator&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import kotlinx.coroutines.delay&#10;import com.heypudu.heypudu.utils.UploadStateManager&#10;&#10;@Composable&#10;fun UploadProgressBar() {&#10;    val uploadState by UploadStateManager.uploadState.collectAsState()&#10;    var showCompletedMessage by remember { mutableStateOf(false) }&#10;&#10;    LaunchedEffect(uploadState.isCompleted) {&#10;        if (uploadState.isCompleted) {&#10;            showCompletedMessage = true&#10;            delay(5000) // Mostrar por 5 segundos&#10;            showCompletedMessage = false&#10;            UploadStateManager.resetState()&#10;        }&#10;    }&#10;&#10;    AnimatedVisibility(&#10;        visible = uploadState.isUploading || showCompletedMessage,&#10;        enter = slideInVertically() + fadeIn(),&#10;        exit = slideOutVertically() + fadeOut()&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(Color(0xFFFA76A6))&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(12.dp)&#10;            ) {&#10;                // Mensaje de estado&#10;                Text(&#10;                    text = if (showCompletedMessage) &quot;¡Publicado!&quot; else uploadState.message,&#10;                    fontSize = 13.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color.White,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                // Barra de progreso&#10;                if (!showCompletedMessage) {&#10;                    LinearProgressIndicator(&#10;                        progress = { uploadState.progress / 100f },&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(4.dp),&#10;                        color = Color.White,&#10;                        trackColor = Color.White.copy(alpha = 0.3f),&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.heypudu.heypudu.ui.components&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.fadeIn&#10;import androidx.compose.animation.fadeOut&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.LinearProgressIndicator&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import kotlinx.coroutines.delay&#10;import com.heypudu.heypudu.utils.UploadStateManager&#10;&#10;@Composable&#10;fun UploadProgressBar() {&#10;    val uploadState by UploadStateManager.uploadState.collectAsState()&#10;    var showCompletedMessage by remember { mutableStateOf(false) }&#10;&#10;    LaunchedEffect(uploadState.isCompleted) {&#10;        if (uploadState.isCompleted) {&#10;            // Esperar un poco para que se vea la barra al 100%&#10;            delay(500)&#10;            showCompletedMessage = true&#10;            delay(5000) // Mostrar por 5 segundos&#10;            showCompletedMessage = false&#10;            UploadStateManager.resetState()&#10;        }&#10;    }&#10;&#10;    AnimatedVisibility(&#10;        visible = uploadState.isUploading || showCompletedMessage,&#10;        enter = slideInVertically() + fadeIn(),&#10;        exit = slideOutVertically() + fadeOut()&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(Color(0xFFFA76A6))&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(12.dp)&#10;            ) {&#10;                // Mensaje de estado&#10;                Text(&#10;                    text = if (showCompletedMessage) &quot;¡Publicado!&quot; else uploadState.message,&#10;                    fontSize = 13.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color.White,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                // Barra de progreso (solo si no es el mensaje final)&#10;                if (!showCompletedMessage) {&#10;                    LinearProgressIndicator(&#10;                        progress = { uploadState.progress / 100f },&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .height(4.dp),&#10;                        color = Color.White,&#10;                        trackColor = Color.White.copy(alpha = 0.3f),&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>